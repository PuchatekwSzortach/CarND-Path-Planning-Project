import numpy as np

import matplotlib.pyplot as plt


def evaluate_polynomial(coefficients, xs):

    ys = []

    for x in xs:

        y = (coefficients[0] * x * x) + (coefficients[1] * x) + coefficients[2]
        ys.append(y)

    return ys


def main():

    trajectories = [

        [1128.78, 1128.78, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79, 1128.79,
         1128.79, 1128.79, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8, 1128.8,
         1128.8, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81, 1128.81,
         1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.82, 1128.83,
         1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.83, 1128.84, 1128.84,
         1128.84, 1128.84, 1128.84, 1128.84, 1128.84, 1128.84, 1128.84, 1128.84, 1128.85, 1128.85, 1128.85, 1128.85,
         1128.85, 1128.85, 1128.85, 1128.85, 1128.85, 1128.85, 1128.86, 1128.86, 1128.86, 1128.86, 1128.86, 1128.86,
         1128.86, 1128.86, 1128.86, 1128.87, 1128.87, 1128.87, 1128.87, 1128.87, 1128.87, 1128.87, 1128.87, 1128.87,
         1128.87, 1128.88, 1128.88, 1128.88, 1128.88, 1128.88, 1128.88, 1128.88, 1128.88, 1128.88, 1128.89, 1128.89,
         1128.89, 1128.89, 1128.89, 1128.94, 1128.95, 1128.97, 1128.98, 1129, 1129.01, 1129.03, 1129.04, 1129.05,
         1129.07, 1129.08, 1129.1, 1129.11, 1129.13, 1129.14, 1129.16, 1129.17, 1129.19, 1129.2, 1129.22, 1129.23,
         1129.25, 1129.26, 1129.28, 1129.29, 1129.31, 1129.33, 1129.34, 1129.36, 1129.37, 1129.39, 1129.4, 1129.42,
         1129.43, 1129.45, 1129.47, 1129.48, 1129.5, 1129.51, 1129.53, 1129.54, 1129.56, 1129.58, 1129.59, 1129.61,
         1129.62, 1129.64, 1129.66, 1129.67, 1129.69, 1129.71, 1129.72, 1129.74, 1129.76, 1129.77, 1129.79, 1129.8,
         1129.82, 1129.84, 1129.85, 1129.87, 1129.89, 1129.91, 1129.92, 1129.94, 1129.96, 1129.97, 1129.99, 1130.01,
         1130.02, 1130.04, 1130.06, 1130.08, 1130.09, 1130.11, 1130.13, 1130.14, 1130.16, 1130.18, 1130.2, 1130.21,
         1130.23, 1130.25, 1130.27, 1130.29, 1130.3, 1130.32, 1130.34, 1130.36, 1130.37, 1130.39, 1130.41, 1130.43,
         1130.45, 1130.46, 1130.48, 1130.5, 1130.52, 1130.54, 1130.56, 1130.57, 1130.59, 1130.61, 1130.63, 1130.65,
         1130.67, 1130.69, 1130.7, 1130.72, 1130.74, 1130.76, 1130.78, 1130.8, 1130.82, 1130.84, 1130.85, 1130.87,
         1130.89, 1130.91, 1130.93, 1130.95, 1130.97, 1130.99, 1131.01, 1131.03, 1131.05, 1131.07, 1131.09, 1131.1,
         1131.12, 1131.14, 1131.16, 1131.18, 1131.2, 1131.22, 1131.24, 1131.26, ],

        [1130.36, 1130.37, 1130.39, 1130.41, 1130.43, 1130.45, 1130.46, 1130.48, 1130.5, 1130.52, 1130.54, 1130.56,
         1130.57, 1130.59, 1130.61, 1130.63, 1130.65, 1130.67, 1130.69, 1130.7, 1130.72, 1130.74, 1130.76, 1130.78,
         1130.8, 1130.82, 1130.84, 1130.85, 1130.87, 1130.89, 1130.91, 1130.93, 1130.95, 1130.97, 1130.99, 1131.01,
         1131.03, 1131.05, 1131.07, 1131.09, 1131.1, 1131.12, 1131.14, 1131.16, 1131.18, 1131.2, 1131.22, 1131.24,
         1131.26, 1131.28, 1131.3, 1131.32, 1131.34, 1131.36, 1131.38, 1131.4, 1131.42, 1131.44, 1131.46, 1131.48,
         1131.5, 1131.52, 1131.54, 1131.56, 1131.58, 1131.6, 1131.63, 1131.65, 1131.67, 1131.69, 1131.71, 1131.73,
         1131.75, 1131.77, 1131.79, 1131.81, 1131.83, 1131.85, 1131.87, 1131.9, 1131.92, 1131.94, 1131.96, 1131.98,
         1132, 1132.02, 1132.04, 1132.07, 1132.09, 1132.11, 1132.13, 1132.15, 1132.17, 1132.32, 1132.36, 1132.41,
         1132.45, 1132.5, 1132.54, 1132.59, 1132.63, 1132.68, 1132.72, 1132.77, 1132.81, 1132.86, 1132.91, 1132.95,
         1133, 1133.04, 1133.09, 1133.13, 1133.18, 1133.23, 1133.27, 1133.32, 1133.37, 1133.41, 1133.46, 1133.51,
         1133.55, 1133.6, 1133.65, 1133.69, 1133.74, 1133.79, 1133.83, 1133.88, 1133.93, 1133.98, 1134.02, 1134.07,
         1134.12, 1134.17, 1134.22, 1134.26, 1134.31, 1134.36, 1134.41, 1134.46, 1134.5, 1134.55, 1134.6, 1134.65,
         1134.7, 1134.75, 1134.8, 1134.85, 1134.9, 1134.94, 1134.99, 1135.04, 1135.09, 1135.14, 1135.19, 1135.24,
         1135.29, 1135.34, 1135.39, 1135.44, 1135.49, 1135.54, 1135.59, 1135.64, 1135.69, 1135.74, 1135.79, 1135.84,
         1135.89, 1135.95, 1136, 1136.05, 1136.1, 1136.15, 1136.2, 1136.25, 1136.3, 1136.36, 1136.41, 1136.46, 1136.51,
         1136.56, 1136.61, 1136.67, 1136.72, 1136.77, 1136.82, 1136.88, 1136.93, 1136.98, 1137.03, 1137.09, 1137.14,
         1137.19, 1137.24, 1137.3, 1137.35, 1137.4, 1137.46, 1137.51, 1137.56, 1137.62, 1137.67, 1137.72, 1137.78,
         1137.83, 1137.89, 1137.94, 1137.99, 1138.05, 1138.1, 1138.16, 1138.21, 1138.27, 1138.32, 1138.38, 1138.43,
         1138.49, 1138.54, 1138.6, 1138.65, 1138.71, 1138.76, 1138.82, 1138.87, 1138.93, 1138.98, 1139.04, 1139.09,
         1139.15, 1139.21, 1139.26, 1139.65, 1139.75, 1139.84, 1139.94, 1140.04, 1140.14, 1140.24, 1140.33, 1140.43,
         1140.53, 1140.63, 1140.73, 1140.83, 1140.93, 1141.02, 1141.12, ],

        [1137.56, 1137.62, 1137.67, 1137.72, 1137.78, 1137.83, 1137.89, 1137.94, 1137.99, 1138.05, 1138.1, 1138.16,
         1138.21, 1138.27, 1138.32, 1138.38, 1138.43, 1138.49, 1138.54, 1138.6, 1138.65, 1138.71, 1138.76, 1138.82,
         1138.87, 1138.93, 1138.98, 1139.04, 1139.09, 1139.15, 1139.21, 1139.26, 1139.65, 1139.75, 1139.84, 1139.94,
         1140.04, 1140.14, 1140.24, 1140.33, 1140.43, 1140.53, 1140.63, 1140.73, 1140.83, 1140.93, 1141.02, 1141.12,
         1141.22, 1141.32, 1141.42, 1141.52, 1141.62, 1141.72, 1141.82, 1141.92, 1142.02, 1142.12, 1142.23, 1142.33,
         1142.43, 1142.53, 1142.63, 1142.73, 1142.83, 1142.94, 1143.04, 1143.14, 1143.24, 1143.34, 1143.45, 1143.55,
         1143.65, 1143.76, 1143.86, 1143.96, 1144.07, 1144.17, 1144.27, 1144.38, 1144.48, 1144.59, 1144.69, 1144.79,
         1144.9, 1145, 1145.11, 1145.21, 1145.32, 1145.42, 1145.53, 1145.64, 1145.74, 1145.85, 1145.95, 1146.06,
         1146.17, 1146.27, 1146.38, 1146.49, 1146.59, 1146.7, 1146.81, 1146.92, 1147.02, 1147.13, 1147.24, 1147.35,
         1147.46, 1147.56, 1147.67, 1147.78, 1147.89, 1148, 1148.11, 1148.22, 1148.33, 1148.44, 1148.55, 1148.66,
         1148.77, 1148.88, 1148.99, 1149.1, 1149.21, 1149.32, 1149.43, 1149.54, 1149.65, 1149.76, 1149.87, 1149.99,
         1150.1, 1150.21, 1150.32, 1150.43, 1150.55, 1150.66, 1150.77, 1150.88, 1151, 1151.11, 1151.22, 1151.34,
         1151.45, 1151.56, 1151.68, 1151.79, 1151.91, 1152.02, 1152.11, 1152.22, 1152.33, 1152.45, 1152.56, 1152.67,
         1152.78, 1152.9, 1153.01, 1153.12, 1153.24, 1153.35, 1153.46, 1153.58, 1153.69, 1153.8, 1153.92, 1154.03,
         1154.15, 1154.26, 1154.37, 1154.49, 1154.6, 1154.72, 1154.83, 1154.95, 1155.07, 1155.18, 1155.3, 1155.41,
         1155.53, 1155.64, 1155.76, 1155.88, 1155.99, 1156.11, 1156.23, 1156.34, 1156.46, 1156.58, 1156.7, 1156.81,
         1156.93, 1157.05, 1157.17, 1157.29, 1157.4, 1157.52, 1157.64, 1157.76, 1157.88, 1158, 1158.12, 1158.24,
         1158.36, 1158.48, 1158.6, 1158.72, 1158.84, 1158.96, 1159.08, 1159.2, 1159.32, 1159.44, 1159.56, 1159.68,
         1159.8, 1159.92, 1160.04, 1160.17, 1160.29, 1160.41, 1160.53, 1160.65, 1160.78, 1160.9, 1161.02, 1161.14,
         1161.27, 1161.39, 1161.51, 1161.64, 1161.76, 1161.88, 1162.01, 1162.13, 1162.26, 1162.38, 1162.5, 1162.63,
         1162.75, 1162.88, 1163, 1163.13, 1163.25, 1163.38, 1163.5, ],


    ]
    print(len(trajectories))
    trajectory = trajectories[2]

    x = np.linspace(0, len(trajectory) * 0.02, len(trajectory))

    coefficients = np.polyfit(x, trajectory, deg=2)

    ys = evaluate_polynomial(coefficients, x)

    plt.scatter(x, trajectory)
    plt.scatter(x, ys)
    plt.show()


if __name__ == "__main__":

    main()
